<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Espetinho Delivery ZD</title>
    
    <!-- Link para o manifest.json -->
    <link rel="manifest" href="manifest.json">

    <!-- Ícones para o PWA -->
    <link rel="icon" type="image/png" sizes="192x192" href="logo1.png">
    <link rel="apple-touch-icon" href="logo1.png">

    <link rel="stylesheet" href="style.css">
    
    <style>
        .pedido-container {
            border: 2px solid #000;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            background-color: #f8f8f8;
        }
        .pedido-section {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        .categoria {
            flex: 1;
            min-width: 200px;
            padding: 10px;
        }
        .endereco {
            margin: 10px 0;
        }
        .taxa-entrega {
            font-weight: bold;
            margin-top: 10px;
            color: green;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ESPETINHO DELIVERY ZD</h1>
            <img src="logo.png" alt="Logo Espetinho Delivery ZD" class="logo">
        </header>

        <div class="pedido-quantidade">
            <h3>QUANTOS ESPETINHO </br> VOCÊ DESEJA ?</h3>
            <input type="number" id="quantidadePedidos" min="1" value="1" onchange="atualizarPedidos()">
        </div>

        <div id="pedidosContainer"></div>

        <div class="taxa-entrega" id="taxaEntregaInfo"></div>

        <div class="endereco">
            <h3>INFORME SEU ENDEREÇO DE ENTREGA: </h3>
            </br>
            <textarea id="enderecoEntrega" rows="4" placeholder="Digite o endereço de entrega..."></textarea>
        </div>

        <button id="finalizarPedido" onclick="finalizarPedido()">Finalizar Pedido</button>
    </div>

    <script>
        const precoEspeto = {
            "Gado": 18.00,
            "Frango": 15.00,
            "Toscana": 15.00,
            "Gado e Toscana": 15.00,
            "Gado e Frango": 15.00,
            "Toscana e Frango": 15.00,
            "Gado, Frango e Toscana": 15.00
        };

        const precoBebidas = {
            "Suco de Maracuja": 5.00,
            "Suco de Cupuaçu": 5.00
        };

        function atualizarPedidos() {
            const quantidade = document.getElementById('quantidadePedidos').value;
            const pedidosContainer = document.getElementById('pedidosContainer');
            const taxaInfo = document.getElementById('taxaEntregaInfo');

            pedidosContainer.innerHTML = '';

            for (let i = 0; i < quantidade; i++) {
                const pedidoContainer = document.createElement('div');
                pedidoContainer.classList.add('pedido-container');
                pedidoContainer.innerHTML = `<h3>Pedido ${i + 1}</h3>`;

                const pedidoSection = document.createElement('div');
                pedidoSection.classList.add('pedido-section');

                const espetos = document.createElement('div');
                espetos.classList.add('categoria');
                espetos.innerHTML = ` 
                    <h4>ESCOLHA O ESPETO:</h4>
                    <label><input type="radio" name="espeto_${i}" value="Gado"> Gado - R$18,00</label><br>
                    <label><input type="radio" name="espeto_${i}" value="Frango"> Frango - R$15,00</label><br>
                    <label><input type="radio" name="espeto_${i}" value="Toscana"> Toscana - R$15,00</label><br>
                    <label><input type="radio" name="espeto_${i}" value="Gado e Toscana"> Gado e Toscana - R$15,00</label><br>
                    <label><input type="radio" name="espeto_${i}" value="Gado e Frango"> Gado e Frango - R$15,00</label><br>
                    <label><input type="radio" name="espeto_${i}" value="Toscana e Frango"> Toscana e Frango - R$15,00</label><br>
                    <label><input type="radio" name="espeto_${i}" value="Gado, Frango e Toscana"> Gado, Frango e Toscana - R$15,00</label><br>
                `;

                const arroz = document.createElement('div');
                arroz.classList.add('categoria');
                arroz.innerHTML = `
                    <h4>ESCOLHA O ARROZ:</h4>
                    <label><input type="radio" name="arroz_${i}" value="Baião de Dois"> Baião de Dois</label><br>
                    <label><input type="radio" name="arroz_${i}" value="Arroz de Cenoura"> Arroz de Cenoura</label><br>
                    <label><input type="radio" name="arroz_${i}" value="Sem arroz"> Sem Arroz</label><br>
                `;

                const acompanhamentos = document.createElement('div');
                acompanhamentos.classList.add('categoria');
                acompanhamentos.innerHTML = `
                    <h4>ESCOLHA OS ACOMPANHAMENTOS:</h4>
                    <label><input type="checkbox" name="acompanhamentos_${i}" value="Salada"> Salada</label><br>
                    <label><input type="checkbox" name="acompanhamentos_${i}" value="Purê de Batata"> Purê de Batata</label><br>
                    <label><input type="checkbox" name="acompanhamentos_${i}" value="Farofa"> Farofa</label><br>
                    <label><input type="checkbox" name="acompanhamentos_${i}" value="Vatapá de camarão com pimenta"> Vatapá com pimenta</label><br>
                    <label><input type="checkbox" name="acompanhamentos_${i}" value="Vatapá de camarão sem pimenta"> Vatapá sem pimenta</label><br>
                    <label><input type="checkbox" name="acompanhamentos_${i}" value="Batata Frita"> Batata Frita - R$3,00</label><br>
                `;

                const bebidas = document.createElement('div');
                bebidas.classList.add('categoria');
                bebidas.innerHTML = `
                    <h4>ESCOLHA A SUA BEBIDA:</h4>
                    <label><input type="checkbox" name="Bebidas_${i}" value="Suco de Maracuja"> Suco de Maracujá</label><br>
                    <label><input type="checkbox" name="Bebidas_${i}" value="Suco de Cupuaçu"> Suco de Cupuaçu</label><br>
                `;

                pedidoSection.appendChild(espetos);
                pedidoSection.appendChild(arroz);
                pedidoSection.appendChild(acompanhamentos);
                pedidoSection.appendChild(bebidas);
                pedidoContainer.appendChild(pedidoSection);
                pedidosContainer.appendChild(pedidoContainer);
            }

            if (quantidade == 1) {
                taxaInfo.textContent = "Taxa de entrega: R$2,00";
            } else {
                taxaInfo.textContent = "Entrega grátis!";
            }
        }

        function finalizarPedido() {
            const endereco = document.getElementById('enderecoEntrega').value;
            if (!endereco) {
                alert('Você deve informar um endereço de entrega!');
                return;
            }

            let mensagem = "Olá, gostaria de fazer um pedido no Espetinho Delivery ZD:\n";
            mensagem += `Endereço de Entrega: ${endereco}\n`;

            const pedidos = document.querySelectorAll('.pedido-section');
            let algumItemSelecionado = false;
            let totalPedido = 0;
            let quantidadePedidos = 0;

            pedidos.forEach((pedido, index) => {
                let espeto = pedido.querySelector(`input[name="espeto_${index}"]:checked`);
                let arroz = pedido.querySelector(`input[name="arroz_${index}"]:checked`);
                let acompanhamentos = pedido.querySelectorAll(`input[name="acompanhamentos_${index}"]:checked`);
                let bebidas = pedido.querySelectorAll(`input[name="Bebidas_${index}"]:checked`);

                if (!espeto || !arroz || acompanhamentos.length === 0) {
                    alert('Você deve escolher ao menos um espeto, um arroz e um acompanhamento!');
                    return;
                }

                algumItemSelecionado = true;
                quantidadePedidos++;

                let valorEspeto = precoEspeto[espeto.value];
                totalPedido += valorEspeto;

                mensagem += `\n\nPedido ${index + 1}:\n`;
                mensagem += `Espeto: ${espeto.value}\n`;
                mensagem += `Arroz: ${arroz.value}\n`;

                let acompList = [];
                acompanhamentos.forEach(acomp => {
                    acompList.push(acomp.value);
                    if (acomp.value === "Batata Frita") {
                        totalPedido += 3.00;
                    }
                });
                mensagem += `Acompanhamentos: ${acompList.join(", ")}\n`;

                if (bebidas.length > 0) {
                    let bebidasList = [];
                    bebidas.forEach(bebida => {
                        bebidasList.push(bebida.value);
                        if (precoBebidas[bebida.value]) {
                            totalPedido += precoBebidas[bebida.value];
                        }
                    });
                    mensagem += `Bebidas: ${bebidasList.join(", ")}\n`;
                }
            });

            if (!algumItemSelecionado) {
                alert('Você deve escolher ao menos um item em cada categoria para finalizar o pedido!');
                return;
            }

            let taxaEntrega = quantidadePedidos === 1 ? 2.00 : 0.00;
            totalPedido += taxaEntrega;

            mensagem += `\nValor Total do Pedido: R$ ${totalPedido.toFixed(2)}\n`;

            const urlWhatsApp = `https://wa.me/5598985349559?text=${encodeURIComponent(mensagem)}`;
            window.open(urlWhatsApp, "_blank");
        }

        atualizarPedidos();
    </script>
</body>
</html>
