<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Espetinho Delivery ZD</title>

  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" sizes="192x192" href="logo1.png" />
  <link rel="apple-touch-icon" href="logo1.png" />
  <link rel="stylesheet" href="style.css" />

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: "Montserrat", sans-serif;
      color: #ffffff;
      background: url("logo.png") no-repeat center center fixed;
      background-size: cover;
      position: relative;
      min-height: 100vh;
      overflow-x: hidden;
      padding-top: 100px; /* espaço para header fixo */
      padding-bottom: 50px; /* espaço para footer fixo */
    }

    body::before {
      content: "";
      position: fixed;
      top: 0px;
      left: 0px;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: -1;
    }

    .top-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      color: #fca311;
      text-align: center;
      padding: 15px 0;
      font-size: 20px;
      z-index: 1000;
      border-bottom: 2px solid #fca311;
    }

    header p {
      font-size: 1rem;
      color: #fff;
    }

    .bottom-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      color: #ffffff;
      text-align: center;
      padding: 10px 0;
      font-size: 14px;
      z-index: 1000;
      box-shadow: 0 -2px 5px rgba(255, 255, 255, 0.1);
    }

    .container {
      max-width: 900px;
      margin: auto;
      padding-bottom: 20px;
    }

    header {
      text-align: center;
      margin-bottom: 20px;
    }

    h1 {
      font-family: "Montserrat", sans-serif;
      font-size: 40px;
      color: #fca311;
      margin: 0;
    }

    .logo {
      width: 400px;
      margin-top: 50px;
    }

    h3 {
      margin-top: 20px;
      color: #000000;
    }

    h4 {
      margin-top: 10px;
      color: #fca311;
    }

    input[type="number"],
    textarea,
    input[type="text"] {
      width: 150px;
      padding: 10px;
      border: none;
      border-radius: 10px;
      margin-bottom: 10px;
      font-family: "Montserrat", sans-serif;
      background-color: rgb(255, 255, 255);
      border: 1px solid #ffffff;
    }

    textarea {
      resize: none;
    }

    button {
      background-color: #fca311;
      color: #000;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      width: auto;
      font-weight: bold;
      transition: 0.3s;
      display: block;
      margin: 20px auto;
    }

    button:hover {
      background-color: #fca311;
    }

    .pedido-container {
      border: 1px solid #fca311;
      padding: 15px;
      margin: 10px 0;
      border-radius: 10px;
      background-color: #fca311;
      color: #000;
    }

    .pedido-section {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      border-radius: 10px;
      background-color: rgb(0, 0, 0);
      padding: 15px;
      color: #fff;
    }

    .categoria {
      flex: 1;
      min-width: 200px;
      margin: 10px;
    }

    label {
      display: block;
      margin-bottom: 15px;
      cursor: pointer;
    }

    .taxa-entrega {
      font-weight: bold;
      margin-top: 15px;
      color: #6fe76f;
    }

    .overlay {
      background-color: rgba(0, 0, 0, 0.85);
      width: 100%;
      height: 100%;
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
    }

    .forma-pagamento {
      margin-top: 30px;
      padding: 15px;
      border: 8px solid #fca311;
      border-radius: 10px;
      background: rgba(0, 0, 0, 0.7);
      box-shadow: 0 0 60px #fca311;
      animation: brilho-borda 2s infinite;
      color: #fff;
    }

    #trocoContainer {
      display: none;
      margin-top: 10px;
    }
    .forma-pagamento label {
      color: #fff;
      font-weight: bold;
      cursor: pointer;
    }

    .local-entrega {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 20px;
      color: #ffff;
    }

    .local-entrega h3 {
      color: #ffff;
      margin-bottom: 10px;
    }

    .local-entrega .opcoes {
      display: flex;
      gap: 20px;
      color: #ffff;
    }
  </style>
</head>

<body>
  <header class="top-header">
    <h1>Espetinho Delivery ZD</h1>
    <p>Siga no Instagram: <strong>@espetinhodeliveryzd</strong></p>
  </header>

  <div class="overlay"></div>

  <div class="container">
    <header>
      <img src="logo.png" alt="Logo Espetinho Delivery ZD" class="logo" />
    </header>

    <div class="telefone">
      <h4>INFORME SEU NOME OU NÚMERO DE WHATSAPP:</h4><br />
      <input
        type="text"
        id="numeroCliente"
        placeholder="Digite seu nome ou número de WhatsApp"
      />
    </div>

    <div class="pedido-quantidade">
      <h3>QUANTOS ESPETINHOS VOCÊ DESEJA ?</h3><br />
      <input
        type="number"
        id="quantidadePedidos"
        min="1"
        value="1"
        onchange="atualizarPedidos()"
      />
    </div>

    <div id="pedidosContainer"></div>

    <div class="endereco">
      <h3>INFORME SEU ENDEREÇO DE ENTREGA:</h3><br />
      <textarea
        id="enderecoEntrega"
        rows="4"
        placeholder="Digite o endereço de entrega..."
      ></textarea>
    </div>

    <div class="local-entrega">
      <h3>SELECIONE A SUA LOCALIDADE:</h3><br />
      <div class="opcoes">
        <label><input type="radio" name="localidade" value="Ze Doca" checked /> Zé Doca</label>
        <label><input type="radio" name="localidade" value="Josias" /> Josias</label>
        <label><input type="radio" name="localidade" value="Boa Esperança" /> Boa Esperança</label>
      </div>
    </div>

    <div class="taxa-entrega" id="taxaEntregaInfo"></div>

    <div class="forma-pagamento">
      <h4>QUAL A FORMA DE PAGAMENTO:</h4><br />
      <label
        ><input
          type="radio"
          name="pagamento"
          value="PIX"
          onchange="toggleTroco(false)"
        />
        PIX</label
      ><br />
      <label
        ><input
          type="radio"
          name="pagamento"
          value="Espécie"
          onchange="toggleTroco(true)"
        />
        Espécie</label
      ><br />
      <label
        ><input
          type="radio"
          name="pagamento"
          value="Cartão"
          onchange="toggleTroco(false)"
        />
        Cartão</label
      >
      <div id="trocoContainer">
        <label style="color: #fff;">Precisa de troco para quanto?</label>
        <input type="text" id="trocoInput" placeholder="Ex: R$ 100,00" />
      </div>
    </div>

    <button id="finalizarPedido" onclick="finalizarPedido()">
      Finalizar Pedido
    </button>
  </div>

  <script>
    function toggleTroco(ativo) {
      const container = document.getElementById("trocoContainer");
      const input = document.getElementById("trocoInput");
      container.style.display = ativo ? "block" : "none";
      input.required = ativo;
    }

    const precoEspeto = {
      Gado: 20.00,
      Frango: 18.00,
      Toscana: 18.00,
      "Gado e Toscana": 17.00,
      "Gado e Frango": 17.00,
      "Toscana e Frango": 17.00,
      "Gado, Frango e Toscana": 17.00,
      "Gado com Queijo": 22.00,
  
    };

    const precoBebidas = {
      "Suco de Maracuja": 5.00,
      "Suco de Acerola": 5.00,
      Refrigerante: 6.00,
    };

    const precoAcompanhamentos = {
      "Batata Frita": 4.00,
      "Queijo Coalho": 4.00,
    };

    // Atualiza taxa sempre que localidade muda
    const localRadios = document.querySelectorAll('input[name="localidade"]');
    localRadios.forEach((radio) => {
      radio.addEventListener("change", atualizarPedidos);
    });

    function atualizarPedidos() {
      const quantidade = parseInt(document.getElementById("quantidadePedidos").value);
      const pedidosContainer = document.getElementById("pedidosContainer");
      const taxaInfo = document.getElementById("taxaEntregaInfo");

      // Salva os dados atuais dos pedidos
      const dadosPedidos = [];
      const pedidosAtuais = document.querySelectorAll(".pedido-section");

      pedidosAtuais.forEach((pedido, i) => {
        const espeto = pedido.querySelector(`input[name="espeto_${i}"]:checked`);
        const arroz = pedido.querySelector(`input[name="arroz_${i}"]:checked`);
        const acompanhamentos = Array.from(
          pedido.querySelectorAll(`input[name="acompanhamentos_${i}"]:checked`)
        ).map((input) => input.value);
        const bebidas = Array.from(
          pedido.querySelectorAll(`input[name="Bebidas_${i}"]:checked`)
        ).map((input) => input.value);

        dadosPedidos.push({
          espeto: espeto ? espeto.value : null,
          arroz: arroz ? arroz.value : null,
          acompanhamentos,
          bebidas,
        });
      });

      // Limpa e recria os pedidos
      pedidosContainer.innerHTML = "";

      for (let i = 0; i < quantidade; i++) {
        const pedidoContainer = document.createElement("div");
        pedidoContainer.classList.add("pedido-container");
        pedidoContainer.innerHTML = `<h3>Pedido ${i + 1}</h3>`;

        const pedidoSection = document.createElement("div");
        pedidoSection.classList.add("pedido-section");

        const espetos = document.createElement("div");
        espetos.classList.add("categoria");
        espetos.innerHTML = `
          <h4>ESCOLHA O ESPETO:</h4>
          <label><input type="radio" name="espeto_${i}" value="Gado com Queijo"> Gado com Queijo - R$22,00</label>
          <label><input type="radio" name="espeto_${i}" value="Gado"> Gado - R$20,00</label>
          <label><input type="radio" name="espeto_${i}" value="Frango"> Frango - R$18,00</label>
          <label><input type="radio" name="espeto_${i}" value="Toscana"> Toscana - R$18,00</label>
          <label><input type="radio" name="espeto_${i}" value="Gado e Toscana"> Gado e Toscana - R$17,00</label>
          <label><input type="radio" name="espeto_${i}" value="Gado e Frango"> Gado e Frango - R$17,00</label>
          <label><input type="radio" name="espeto_${i}" value="Toscana e Frango"> Toscana e Frango - R$17,00</label>
          <label><input type="radio" name="espeto_${i}" value="Gado, Frango e Toscana"> Gado, Frango e Toscana - R$17,00</label>
        `;

        const arroz = document.createElement("div");
        arroz.classList.add("categoria");
        arroz.innerHTML = `
          <h4>ESCOLHA O ARROZ:</h4>
          <label><input type="radio" name="arroz_${i}" value="De Cuxa"> De Cuxa</label>
          <label><input type="radio" name="arroz_${i}" value="Baião de Dois"> Baião de Dois</label>
          <label><input type="radio" name="arroz_${i}" value="Sem arroz"> Sem Arroz</label>
        `;

        const acompanhamentos = document.createElement("div");
        acompanhamentos.classList.add("categoria");
        acompanhamentos.innerHTML = `
          <h4>ESCOLHA OS ACOMPANHAMENTOS:</h4>
          <label><input type="checkbox" name="acompanhamentos_${i}" value="Purê de Batata"> Purê de Batata - GRÁTIS</label>
          <label><input type="checkbox" name="acompanhamentos_${i}" value="Vatapá de camarão com pimenta"> Vatapá com pimenta - GRÁTIS</label>
          <label><input type="checkbox" name="acompanhamentos_${i}" value="Vatapá de camarão sem pimenta"> Vatapá sem pimenta - GRÁTIS</label>
          <label><input type="checkbox" name="acompanhamentos_${i}" value="Farofa"> Farofa - GRÁTIS</label>
          <label><input type="checkbox" name="acompanhamentos_${i}" value="Salada"> Salada - GRÁTIS</label>
          <br><h4>ADICIONAIS:</h4>
          <label><input type="checkbox" name="acompanhamentos_${i}" value="Batata Frita"> Batata Frita - R$4,00</label>
          <label><input type="checkbox" name="acompanhamentos_${i}" value="Queijo Coalho"> Queijo Coalho - R$4,00</label>
        `;

        const bebidas = document.createElement("div");
        bebidas.classList.add("categoria");
        bebidas.innerHTML = `
          <h4>ESCOLHA SUA BEBIDA:</h4>
          <label><input type="checkbox" name="Bebidas_${i}" value="Suco de Maracuja"> Suco de Maracujá 300 ml - R$5,00</label>
          <label><input type="checkbox" name="Bebidas_${i}" value="Refrigerante"> Refrigerante 350 ml - R$6,00</label>
        `;

        pedidoSection.appendChild(espetos);
        pedidoSection.appendChild(arroz);
        pedidoSection.appendChild(acompanhamentos);
        pedidoSection.appendChild(bebidas);
        pedidoContainer.appendChild(pedidoSection);
        pedidosContainer.appendChild(pedidoContainer);

        // Reaplica as seleções salvas
        if (dadosPedidos[i]) {
          const d = dadosPedidos[i];

          if (d.espeto) {
            const espetoInput = pedidoSection.querySelector(`input[name="espeto_${i}"][value="${d.espeto}"]`);
            if (espetoInput) espetoInput.checked = true;
          }

          if (d.arroz) {
            const arrozInput = pedidoSection.querySelector(`input[name="arroz_${i}"][value="${d.arroz}"]`);
            if (arrozInput) arrozInput.checked = true;
          }

          if (d.acompanhamentos && d.acompanhamentos.length > 0) {
            d.acompanhamentos.forEach((valor) => {
              const acompInput = pedidoSection.querySelector(`input[name="acompanhamentos_${i}"][value="${valor}"]`);
              if (acompInput) acompInput.checked = true;
            });
          }

          if (d.bebidas && d.bebidas.length > 0) {
            d.bebidas.forEach((valor) => {
              const bebidaInput = pedidoSection.querySelector(`input[name="Bebidas_${i}"][value="${valor}"]`);
              if (bebidaInput) bebidaInput.checked = true;
            });
          }
        }
      }

      // Atualiza a taxa de entrega
      const localSelecionado = document.querySelector('input[name="localidade"]:checked').value;
      let taxaEntrega = 0;

      if (localSelecionado === "Ze Doca") {
        if (quantidade < 3) {
          taxaEntrega = 2.0;
          taxaInfo.textContent = "TAXA DE ENTREGA: R$ 2,00";
          taxaInfo.style.color = "#6fe76f";
        } else {
          taxaEntrega = 0;
          taxaInfo.textContent = "PARA 3 OU MAIS ESPETINHOS, ENTREGA GRÁTIS!";
          taxaInfo.style.color = "#ff0000";
        }
      } else if (localSelecionado === "Josias") {
        taxaEntrega = 7.0;
        taxaInfo.textContent = "TAXA DE ENTREGA: R$ 7,00";
        taxaInfo.style.color = "#6fe76f";
      } else if (localSelecionado === "Boa Esperança") {
        taxaEntrega = 5.0;
        taxaInfo.textContent = "TAXA DE ENTREGA: R$ 5,00";
        taxaInfo.style.color = "#6fe76f";
      } else {
        taxaEntrega = 0;
        taxaInfo.textContent = "";
      }
    }

    function finalizarPedido() {
  const nomeCliente = document.getElementById("numeroCliente").value.trim();
  if (!nomeCliente) {
    alert("Por favor, informe seu nome ou número de WhatsApp.");
    return;
  }

  const endereco = document.getElementById("enderecoEntrega").value.trim();
  if (!endereco) {
    alert("Por favor, informe o endereço de entrega.");
    return;
  }

  const quantidade = parseInt(document.getElementById("quantidadePedidos").value);
  if (quantidade < 1) {
    alert("Quantidade de espetinhos inválida.");
    return;
  }

  const localSelecionado = document.querySelector('input[name="localidade"]:checked');
  if (!localSelecionado) {
    alert("Selecione a localidade.");
    return;
  }

  const pagamentoSelecionado = document.querySelector('input[name="pagamento"]:checked');
  if (!pagamentoSelecionado) {
    alert("Selecione a forma de pagamento.");
    return;
  }

  if (
    pagamentoSelecionado.value === "Espécie" &&
    !document.getElementById("trocoInput").value.trim()
  ) {
    alert("Informe o valor para o troco.");
    return;
  }

  let totalPedido = 0;

  // Calcula total antes de montar a mensagem
  for (let i = 0; i < quantidade; i++) {
    const espeto = document.querySelector(`input[name="espeto_${i}"]:checked`);
    const acompanhamentos = document.querySelectorAll(`input[name="acompanhamentos_${i}"]:checked`);
    const bebidas = document.querySelectorAll(`input[name="Bebidas_${i}"]:checked`);

    if (espeto && precoEspeto[espeto.value]) totalPedido += precoEspeto[espeto.value];
    acompanhamentos.forEach(a => {
      if (precoAcompanhamentos[a.value]) totalPedido += precoAcompanhamentos[a.value];
    });
    bebidas.forEach(b => {
      if (precoBebidas[b.value]) totalPedido += precoBebidas[b.value];
    });
  }

  // Taxa de entrega
  let taxaEntrega = 0;
  if (localSelecionado.value === "Ze Doca") {
    taxaEntrega = quantidade >= 3 ? 0 : 2.0;
  } else if (localSelecionado.value === "Josias") {
    taxaEntrega = 7.0;
  } else if (localSelecionado.value === "Boa Esperança") {
    taxaEntrega = 5.0;
  }

  totalPedido += taxaEntrega;

  // Monta mensagem do pedido para o WhatsApp no modelo solicitado
  let mensagem = `Olá, gostaria de fazer um pedido no Espetinho Delivery ZD:\n\n`;
  mensagem += `Nome ou Número do Cliente: ${nomeCliente}\n`;
  mensagem += `Endereço de Entrega: ${endereco}\n`;
  mensagem += `Localidade: ${localSelecionado.value}\n`;
  mensagem += `Forma de Pagamento: ${pagamentoSelecionado.value}\n`;
      
      if (pagamentoSelecionado.value === "Espécie") {
  const trocoPara = document.getElementById("trocoInput").value.trim();
  mensagem += `Troco para: ${trocoPara ? trocoPara : "não informado"}\n`;
}
  mensagem += `Valor Total do Pedido: R$ ${totalPedido.toFixed(2)}\n\n`;

  for (let i = 0; i < quantidade; i++) {
    mensagem += `Pedido ${i + 1}:\n`;

    const espeto = document.querySelector(`input[name="espeto_${i}"]:checked`);
    const arroz = document.querySelector(`input[name="arroz_${i}"]:checked`);
    const acompanhamentos = document.querySelectorAll(`input[name="acompanhamentos_${i}"]:checked`);
    const bebidas = document.querySelectorAll(`input[name="Bebidas_${i}"]:checked`);

    mensagem += `Espeto: ${espeto ? espeto.value : "Não selecionado"}\n`;
    mensagem += `Arroz: ${arroz ? arroz.value : "Não selecionado"}\n`;

    if (acompanhamentos.length > 0) {
      const acompText = Array.from(acompanhamentos).map(a => a.value).join(", ");
      mensagem += `Acompanhamentos: ${acompText}\n`;
    } else {
      mensagem += `Acompanhamentos: Nenhum\n`;
    }

    if (bebidas.length > 0) {
      const bebidasText = Array.from(bebidas).map(b => b.value).join(", ");
      mensagem += `Bebidas: ${bebidasText}\n`;
    } else {
      mensagem += `Bebidas: Nenhuma\n`;
    }

    mensagem += `\n`;
  }

  mensagem += `Taxa de Entrega: R$ ${taxaEntrega.toFixed(2)}\n`;
  mensagem += `Valor Total do Pedido(Junto com a entrega): R$ ${totalPedido.toFixed(2)}\n`;

  // Abre WhatsApp
  const mensagemUrl = encodeURIComponent(mensagem);
  const telefoneWhatsapp = "5598985349559"; // seu número com DDD
  const urlWhatsApp = `https://api.whatsapp.com/send?phone=${telefoneWhatsapp}&text=${mensagemUrl}`;
  window.open(urlWhatsApp, "_blank");
}


    // Atualiza pedidos na carga inicial da página
    document.addEventListener("DOMContentLoaded", () => {
      atualizarPedidos();
      toggleTroco(false);
    });
  </script>

  <footer class="bottom-footer">
    <p>Espetinho Delivery ZD - Todos os direitos reservados</p>
  </footer>
</body>
</html>

